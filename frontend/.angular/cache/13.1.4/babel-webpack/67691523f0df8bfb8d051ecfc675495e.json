{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\59162\\\\Documents\\\\proyecto_angular\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { recognize } from 'tesseract.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/servicios/userservice.service\";\nconst _c0 = [\"inputImage\"];\nconst _c1 = [\"outputImage\"];\nexport class ExtraccionComponent {\n  constructor(userservice) {\n    var _this = this;\n\n    this.userservice = userservice;\n    this.bandera = false;\n    this.cx = CanvasRenderingContext2D;\n    this.fileToUpload = null;\n    this.shortLink = \"\";\n    this.loading = false; // Flag variable    \n\n    this.datos_factura = {\n      name_empresa: '',\n      direccion: '',\n      telefono: '',\n      fecha_literal: '',\n      nit: '',\n      nombre_cliente: '',\n      valor_total_literal: '',\n      total_bruto: '',\n      total_descuento: '',\n      numero_item: '',\n      codigo_producto: '',\n      descripcion_producto: '',\n      udm: '',\n      cantidad_producto: '',\n      precio_unitario: '',\n      total_producto: '',\n      fecha_numerica: ''\n    };\n\n    this.loadingProgress = logger => {\n      console.log(logger);\n    };\n\n    this.initializacion = /*#__PURE__*/_asyncToGenerator(function* () {\n      const carga = true;\n      const imageElement = _this.inputImage.nativeElement;\n      const {\n        data\n      } = yield recognize(imageElement, 'spa', {\n        logger: m => _this.loadingProgress(m)\n      });\n      console.log('laptamre', data.words);\n\n      _this.draw(data);\n    });\n\n    this.initSetup = () => {\n      const imageElement = this.inputImage.nativeElement;\n      const canvasElement = this.outputimage.nativeElement;\n      const that = this;\n\n      imageElement.onload = function () {\n        const {\n          naturalWidth,\n          naturalHeight\n        } = imageElement;\n        console.log(naturalWidth, naturalHeight);\n        that.cx = canvasElement.getContext('2d');\n        that.cx.lineWidth = 5;\n        that.cx.lineCap = 'square';\n        that.cx.strokeStyle = 'green';\n        canvasElement.width = naturalWidth;\n        canvasElement.height = naturalHeight;\n        console.log('initsetup');\n      };\n\n      this.initializacion();\n    };\n\n    this.draw = dataIn => {\n      dataIn.words.forEach(w => {\n        const bounding = w.bbox;\n        console.log(bounding);\n        this.cx.strokeStyle = 'green'; //falta ver que pasa con strokestyle\n\n        this.cx.strokeRect(bounding.x0, bounding.y0, bounding.x1 - bounding.x0, bounding.y1 - bounding.y0);\n        this.cx.beginPath();\n        this.cx.moveTo(w.baseline.x0, w.baseline.y0);\n        this.cx.lineTo(w.baseline.x1, w.baseline.y1);\n        this.cx.stroke();\n      });\n    };\n\n    this.pdfcargado = () => {\n      console.log('imagen lista');\n    };\n  }\n\n  ngOnChanges(changes) {\n    throw new Error('Method not implemented.');\n  }\n\n  ngOnInit() {// this.obtenerdatosJson();\n  }\n\n  onChange(event) {\n    this.file = event.target.files[0]; // this.pdfcargado();\n    // this.initializacion();\n\n    this.initSetup();\n  }\n\n  ngAfterViewInit() {}\n\n  enviardata() {\n    if (this.file) {\n      this.loading = !this.loading;\n      this.userservice.obtenerdatosjson(this.file).subscribe(resp => {\n        // console.log(resp.output[0].fields.date.valueData.text);\n        this.datos_factura.name_empresa = resp.output[0].fields.name_empresa.valueData.text;\n        console.log(resp.output[0].fields.name_empresa.valueData.text);\n        this.datos_factura.direccion = resp.output[0].fields.direccion.valueData.text;\n        this.datos_factura.telefono = resp.output[0].fields.telefono.valueData.text;\n        this.datos_factura.fecha_literal = resp.output[0].fields.fecha_literal.valueData.text;\n        this.datos_factura.nit = resp.output[0].fields.nit.valueData.text;\n        this.datos_factura.nombre_cliente = resp.output[0].fields.nombre_cliente.valueData.text;\n        this.datos_factura.valor_total_literal = resp.output[0].fields.valor_total_literal.valueData.text;\n        this.datos_factura.total_bruto = resp.output[0].fields.total_bruto.valueData.text;\n        this.datos_factura.total_descuento = resp.output[0].fields.total_descuento.valueData.text;\n        this.datos_factura.numero_item = resp.output[0].fields.numero_item.valueData.text;\n        this.datos_factura.codigo_producto = resp.output[0].fields.codigo_producto.valueData.text;\n        this.datos_factura.descripcion_producto = resp.output[0].fields.descripcion_producto.valueData.text;\n        this.datos_factura.udm = resp.output[0].fields.udm.valueData.text;\n        this.datos_factura.cantidad_producto = resp.output[0].fields.cantidad_producto.valueData.text;\n        this.datos_factura.precio_unitario = resp.output[0].fields.precio_unitario.valueData.text;\n        this.datos_factura.total_producto = resp.output[0].fields.total_producto.valueData.text;\n        this.datos_factura.fecha_numerica = resp.output[0].fields.fecha_numerica.valueData.text; // resp.output[0].fields.fecha_numerica.valueData.value[i]['value']['valueData']['text']\n      });\n    } else {\n      alert(\"NO EXISTE UN ARCHIVO CARGADO!\");\n    }\n  }\n\n  handleFileInput(files) {\n    this.fileToUpload = files.item(0);\n  }\n\n}\n\nExtraccionComponent.ɵfac = function ExtraccionComponent_Factory(t) {\n  return new (t || ExtraccionComponent)(i0.ɵɵdirectiveInject(i1.UserserviceService));\n};\n\nExtraccionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ExtraccionComponent,\n  selectors: [[\"app-extraccion\"]],\n  viewQuery: function ExtraccionComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputImage = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.outputimage = _t.first);\n    }\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 29,\n  vars: 0,\n  consts: [[\"lang\", \"es\"], [1, \"navbar\", \"navbar-dark\", \"bg-primary\"], [1, \"wrapper-sections\"], [2, \"padding\", \"15px\", \"background-color\", \"black\"], [\"type\", \"file\", \"name\", \"pdfFile\", \"id\", \"pdfFile\", 1, \"form-control\", 3, \"change\", \"load\"], [\"id\", \"vistaPrevia\", \"type\", \"application/pdf\", \"width\", \"400\", \"height\", \"350\"], [\"id\", \"vistaPrevia\", \"type\", \"application/pdf\", 1, \"canvas-overlay\"], [\"outputImage\", \"\"], [\"id\", \"bird-image\", 1, \"input-image\"], [\"inputImage\", \"\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"input-group\", \"mb-3\"], [\"for\", \"inputGroupFile01\", 1, \"input-group-text\"], [\"type\", \"file\", \"id\", \"inputGroupFile01\", 1, \"form-control\"]],\n  template: function ExtraccionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\", 0);\n      i0.ɵɵelementStart(1, \"nav\", 1);\n      i0.ɵɵtext(2, \" ! \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"body\");\n      i0.ɵɵelementStart(4, \"h3\");\n      i0.ɵɵelementStart(5, \"b\");\n      i0.ɵɵtext(6, \"BIENVENIDO AL MODULO DE RECONOCIMIENTO Y EXTRACCION DE LA INFORMACION\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 2);\n      i0.ɵɵelementStart(8, \"div\", 3);\n      i0.ɵɵelementStart(9, \"h3\");\n      i0.ɵɵtext(10, \"Seleccion archivo JPG o PNG\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 4);\n      i0.ɵɵlistener(\"change\", function ExtraccionComponent_Template_input_change_11_listener($event) {\n        return ctx.onChange($event);\n      })(\"load\", function ExtraccionComponent_Template_input_load_11_listener() {\n        return ctx.pdfcargado();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"embed\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\");\n      i0.ɵɵelement(14, \"canvas\", 6, 7);\n      i0.ɵɵelement(16, \"img\", 8, 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 3);\n      i0.ɵɵelementStart(19, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function ExtraccionComponent_Template_button_click_19_listener() {\n        return ctx.enviardata();\n      });\n      i0.ɵɵtext(20, \" Extraer Datos \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"br\");\n      i0.ɵɵelementStart(22, \"table\");\n      i0.ɵɵelementStart(23, \"tr\");\n      i0.ɵɵelementStart(24, \"td\");\n      i0.ɵɵelementStart(25, \"div\", 11);\n      i0.ɵɵelementStart(26, \"label\", 12);\n      i0.ɵɵtext(27, \"Upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"body[_ngcontent-%COMP%]{\\r\\n    background-image: url('icon.png');\\r\\n    background-repeat: no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\nh2[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    margin-bottom: 40px;\\r\\n}\\r\\nh3[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    margin-top: 13.5px;\\r\\n    margin-bottom: 13.5px;\\r\\n}\\r\\nembed[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    margin-top: 10px;\\r\\n    position: absolute;\\r\\n}\\r\\n.canvas-overlay[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    height: 30rem;\\r\\n    width: 33.5%;\\r\\n    object-fit: contain;\\r\\n    \\r\\n}\\r\\n.input-image[_ngcontent-%COMP%] {\\r\\n    height: 30rem;\\r\\n    width: 100%;\\r\\n    object-fit: contain;\\r\\n}\\r\\n.wrapper-sections[_ngcontent-%COMP%] {\\r\\ndisplay: grid;\\r\\nheight: 100%;\\r\\ngrid-template-columns: 1fr 1fr 1fr;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dHJhY2Npb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0E2Qkc7QUFDSDtJQUNJLGlDQUE0QztJQUM1Qyw0QkFBNEI7SUFDNUIsMkJBQTJCO0FBQy9CO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLHFCQUFxQjtBQUN6QjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsWUFBWTtJQUNaLG1CQUFtQjs7QUFFdkI7QUFFQTtJQUNJLGFBQWE7SUFDYixXQUFXO0lBQ1gsbUJBQW1CO0FBQ3ZCO0FBRUE7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaLGtDQUFrQztBQUNsQyIsImZpbGUiOiJleHRyYWNjaW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAqe1xyXG4gICAgbWFyZ2luOjA7XHJcbiAgICBwYWRkaW5nOjA7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbmJvZHl7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xyXG4gICAgYmFja2dyb3VuZDogI2YxZjFmMSA7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG5cclxuLmNvbnRlbmlkb3tcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNzAwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiA2MDBweDtcclxuICAgIGJhY2tncm91bmQ6IG9yYW5nZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgICBwYWRkaW5nOiA0MHB4IDEwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufSAqL1xyXG5ib2R5e1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwic3JjL2Fzc2V0cy9pY29uLnBuZ1wiKTtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbn1cclxuaDJ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA0MHB4O1xyXG59XHJcbmgze1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMTMuNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTMuNXB4O1xyXG59XHJcbmVtYmVke1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxufVxyXG5cclxuLmNhbnZhcy1vdmVybGF5e1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgaGVpZ2h0OiAzMHJlbTtcclxuICAgIHdpZHRoOiAzMy41JTtcclxuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XHJcbiAgICBcclxufVxyXG5cclxuLmlucHV0LWltYWdlIHtcclxuICAgIGhlaWdodDogMzByZW07XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XHJcbn1cclxuXHJcbi53cmFwcGVyLXNlY3Rpb25zIHtcclxuZGlzcGxheTogZ3JpZDtcclxuaGVpZ2h0OiAxMDAlO1xyXG5ncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnIgMWZyO1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/59162/Documents/proyecto_angular/frontend/src/app/extraccion/extraccion.component.ts"],"names":["recognize","i0","i1","_c0","_c1","ExtraccionComponent","constructor","userservice","bandera","cx","CanvasRenderingContext2D","fileToUpload","shortLink","loading","datos_factura","name_empresa","direccion","telefono","fecha_literal","nit","nombre_cliente","valor_total_literal","total_bruto","total_descuento","numero_item","codigo_producto","descripcion_producto","udm","cantidad_producto","precio_unitario","total_producto","fecha_numerica","loadingProgress","logger","console","log","initializacion","carga","imageElement","inputImage","nativeElement","data","m","words","draw","initSetup","canvasElement","outputimage","that","onload","naturalWidth","naturalHeight","getContext","lineWidth","lineCap","strokeStyle","width","height","dataIn","forEach","w","bounding","bbox","strokeRect","x0","y0","x1","y1","beginPath","moveTo","baseline","lineTo","stroke","pdfcargado","ngOnChanges","changes","Error","ngOnInit","onChange","event","file","target","files","ngAfterViewInit","enviardata","obtenerdatosjson","subscribe","resp","output","fields","valueData","text","alert","handleFileInput","item","ɵfac","ExtraccionComponent_Factory","t","ɵɵdirectiveInject","UserserviceService","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","ExtraccionComponent_Query","rf","ctx","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","ExtraccionComponent_Template","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ExtraccionComponent_Template_input_change_11_listener","$event","ExtraccionComponent_Template_input_load_11_listener","ɵɵelement","ExtraccionComponent_Template_button_click_19_listener","styles"],"mappings":"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","sourcesContent":["import { recognize } from 'tesseract.js';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/servicios/userservice.service\";\r\nconst _c0 = [\"inputImage\"];\r\nconst _c1 = [\"outputImage\"];\r\nexport class ExtraccionComponent {\r\n    constructor(userservice) {\r\n        this.userservice = userservice;\r\n        this.bandera = false;\r\n        this.cx = CanvasRenderingContext2D;\r\n        this.fileToUpload = null;\r\n        this.shortLink = \"\";\r\n        this.loading = false; // Flag variable    \r\n        this.datos_factura = {\r\n            name_empresa: '',\r\n            direccion: '',\r\n            telefono: '',\r\n            fecha_literal: '',\r\n            nit: '',\r\n            nombre_cliente: '',\r\n            valor_total_literal: '',\r\n            total_bruto: '',\r\n            total_descuento: '',\r\n            numero_item: '',\r\n            codigo_producto: '',\r\n            descripcion_producto: '',\r\n            udm: '',\r\n            cantidad_producto: '',\r\n            precio_unitario: '',\r\n            total_producto: '',\r\n            fecha_numerica: ''\r\n        };\r\n        this.loadingProgress = (logger) => {\r\n            console.log(logger);\r\n        };\r\n        this.initializacion = async () => {\r\n            const carga = true;\r\n            const imageElement = this.inputImage.nativeElement;\r\n            const { data } = await recognize(imageElement, 'spa', {\r\n                logger: m => this.loadingProgress(m)\r\n            });\r\n            console.log('laptamre', data.words);\r\n            this.draw(data);\r\n        };\r\n        this.initSetup = () => {\r\n            const imageElement = this.inputImage.nativeElement;\r\n            const canvasElement = this.outputimage.nativeElement;\r\n            const that = this;\r\n            imageElement.onload = function () {\r\n                const { naturalWidth, naturalHeight } = imageElement;\r\n                console.log(naturalWidth, naturalHeight);\r\n                that.cx = canvasElement.getContext('2d');\r\n                that.cx.lineWidth = 5;\r\n                that.cx.lineCap = 'square';\r\n                that.cx.strokeStyle = 'green';\r\n                canvasElement.width = naturalWidth;\r\n                canvasElement.height = naturalHeight;\r\n                console.log('initsetup');\r\n            };\r\n            this.initializacion();\r\n        };\r\n        this.draw = (dataIn) => {\r\n            dataIn.words.forEach(w => {\r\n                const bounding = w.bbox;\r\n                console.log(bounding);\r\n                this.cx.strokeStyle = 'green';\r\n                //falta ver que pasa con strokestyle\r\n                this.cx.strokeRect(bounding.x0, bounding.y0, bounding.x1 - bounding.x0, bounding.y1 - bounding.y0);\r\n                this.cx.beginPath();\r\n                this.cx.moveTo(w.baseline.x0, w.baseline.y0);\r\n                this.cx.lineTo(w.baseline.x1, w.baseline.y1);\r\n                this.cx.stroke();\r\n            });\r\n        };\r\n        this.pdfcargado = () => {\r\n            console.log('imagen lista');\r\n        };\r\n    }\r\n    ngOnChanges(changes) {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    ngOnInit() {\r\n        // this.obtenerdatosJson();\r\n    }\r\n    onChange(event) {\r\n        this.file = event.target.files[0];\r\n        // this.pdfcargado();\r\n        // this.initializacion();\r\n        this.initSetup();\r\n    }\r\n    ngAfterViewInit() {\r\n    }\r\n    enviardata() {\r\n        if (this.file) {\r\n            this.loading = !this.loading;\r\n            this.userservice.obtenerdatosjson(this.file).subscribe((resp) => {\r\n                // console.log(resp.output[0].fields.date.valueData.text);\r\n                this.datos_factura.name_empresa = resp.output[0].fields.name_empresa.valueData.text;\r\n                console.log(resp.output[0].fields.name_empresa.valueData.text);\r\n                this.datos_factura.direccion = resp.output[0].fields.direccion.valueData.text;\r\n                this.datos_factura.telefono = resp.output[0].fields.telefono.valueData.text;\r\n                this.datos_factura.fecha_literal = resp.output[0].fields.fecha_literal.valueData.text;\r\n                this.datos_factura.nit = resp.output[0].fields.nit.valueData.text;\r\n                this.datos_factura.nombre_cliente = resp.output[0].fields.nombre_cliente.valueData.text;\r\n                this.datos_factura.valor_total_literal = resp.output[0].fields.valor_total_literal.valueData.text;\r\n                this.datos_factura.total_bruto = resp.output[0].fields.total_bruto.valueData.text;\r\n                this.datos_factura.total_descuento = resp.output[0].fields.total_descuento.valueData.text;\r\n                this.datos_factura.numero_item = resp.output[0].fields.numero_item.valueData.text;\r\n                this.datos_factura.codigo_producto = resp.output[0].fields.codigo_producto.valueData.text;\r\n                this.datos_factura.descripcion_producto = resp.output[0].fields.descripcion_producto.valueData.text;\r\n                this.datos_factura.udm = resp.output[0].fields.udm.valueData.text;\r\n                this.datos_factura.cantidad_producto = resp.output[0].fields.cantidad_producto.valueData.text;\r\n                this.datos_factura.precio_unitario = resp.output[0].fields.precio_unitario.valueData.text;\r\n                this.datos_factura.total_producto = resp.output[0].fields.total_producto.valueData.text;\r\n                this.datos_factura.fecha_numerica = resp.output[0].fields.fecha_numerica.valueData.text;\r\n                // resp.output[0].fields.fecha_numerica.valueData.value[i]['value']['valueData']['text']\r\n            });\r\n        }\r\n        else {\r\n            alert(\"NO EXISTE UN ARCHIVO CARGADO!\");\r\n        }\r\n    }\r\n    handleFileInput(files) {\r\n        this.fileToUpload = files.item(0);\r\n    }\r\n}\r\nExtraccionComponent.ɵfac = function ExtraccionComponent_Factory(t) { return new (t || ExtraccionComponent)(i0.ɵɵdirectiveInject(i1.UserserviceService)); };\r\nExtraccionComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ExtraccionComponent, selectors: [[\"app-extraccion\"]], viewQuery: function ExtraccionComponent_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(_c0, 5);\r\n        i0.ɵɵviewQuery(_c1, 5);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputImage = _t.first);\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.outputimage = _t.first);\r\n    } }, features: [i0.ɵɵNgOnChangesFeature], decls: 29, vars: 0, consts: [[\"lang\", \"es\"], [1, \"navbar\", \"navbar-dark\", \"bg-primary\"], [1, \"wrapper-sections\"], [2, \"padding\", \"15px\", \"background-color\", \"black\"], [\"type\", \"file\", \"name\", \"pdfFile\", \"id\", \"pdfFile\", 1, \"form-control\", 3, \"change\", \"load\"], [\"id\", \"vistaPrevia\", \"type\", \"application/pdf\", \"width\", \"400\", \"height\", \"350\"], [\"id\", \"vistaPrevia\", \"type\", \"application/pdf\", 1, \"canvas-overlay\"], [\"outputImage\", \"\"], [\"id\", \"bird-image\", 1, \"input-image\"], [\"inputImage\", \"\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"input-group\", \"mb-3\"], [\"for\", \"inputGroupFile01\", 1, \"input-group-text\"], [\"type\", \"file\", \"id\", \"inputGroupFile01\", 1, \"form-control\"]], template: function ExtraccionComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"html\", 0);\r\n        i0.ɵɵelementStart(1, \"nav\", 1);\r\n        i0.ɵɵtext(2, \" ! \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"body\");\r\n        i0.ɵɵelementStart(4, \"h3\");\r\n        i0.ɵɵelementStart(5, \"b\");\r\n        i0.ɵɵtext(6, \"BIENVENIDO AL MODULO DE RECONOCIMIENTO Y EXTRACCION DE LA INFORMACION\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 2);\r\n        i0.ɵɵelementStart(8, \"div\", 3);\r\n        i0.ɵɵelementStart(9, \"h3\");\r\n        i0.ɵɵtext(10, \"Seleccion archivo JPG o PNG\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"input\", 4);\r\n        i0.ɵɵlistener(\"change\", function ExtraccionComponent_Template_input_change_11_listener($event) { return ctx.onChange($event); })(\"load\", function ExtraccionComponent_Template_input_load_11_listener() { return ctx.pdfcargado(); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(12, \"embed\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"div\");\r\n        i0.ɵɵelement(14, \"canvas\", 6, 7);\r\n        i0.ɵɵelement(16, \"img\", 8, 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"div\", 3);\r\n        i0.ɵɵelementStart(19, \"button\", 10);\r\n        i0.ɵɵlistener(\"click\", function ExtraccionComponent_Template_button_click_19_listener() { return ctx.enviardata(); });\r\n        i0.ɵɵtext(20, \" Extraer Datos \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(21, \"br\");\r\n        i0.ɵɵelementStart(22, \"table\");\r\n        i0.ɵɵelementStart(23, \"tr\");\r\n        i0.ɵɵelementStart(24, \"td\");\r\n        i0.ɵɵelementStart(25, \"div\", 11);\r\n        i0.ɵɵelementStart(26, \"label\", 12);\r\n        i0.ɵɵtext(27, \"Upload\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(28, \"input\", 13);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } }, styles: [\"body[_ngcontent-%COMP%]{\\r\\n    background-image: url('icon.png');\\r\\n    background-repeat: no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\nh2[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    margin-bottom: 40px;\\r\\n}\\r\\nh3[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    margin-top: 13.5px;\\r\\n    margin-bottom: 13.5px;\\r\\n}\\r\\nembed[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    margin-top: 10px;\\r\\n    position: absolute;\\r\\n}\\r\\n.canvas-overlay[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    height: 30rem;\\r\\n    width: 33.5%;\\r\\n    object-fit: contain;\\r\\n    \\r\\n}\\r\\n.input-image[_ngcontent-%COMP%] {\\r\\n    height: 30rem;\\r\\n    width: 100%;\\r\\n    object-fit: contain;\\r\\n}\\r\\n.wrapper-sections[_ngcontent-%COMP%] {\\r\\ndisplay: grid;\\r\\nheight: 100%;\\r\\ngrid-template-columns: 1fr 1fr 1fr;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dHJhY2Npb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0E2Qkc7QUFDSDtJQUNJLGlDQUE0QztJQUM1Qyw0QkFBNEI7SUFDNUIsMkJBQTJCO0FBQy9CO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLHFCQUFxQjtBQUN6QjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsWUFBWTtJQUNaLG1CQUFtQjs7QUFFdkI7QUFFQTtJQUNJLGFBQWE7SUFDYixXQUFXO0lBQ1gsbUJBQW1CO0FBQ3ZCO0FBRUE7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaLGtDQUFrQztBQUNsQyIsImZpbGUiOiJleHRyYWNjaW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAqe1xyXG4gICAgbWFyZ2luOjA7XHJcbiAgICBwYWRkaW5nOjA7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbmJvZHl7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xyXG4gICAgYmFja2dyb3VuZDogI2YxZjFmMSA7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG5cclxuLmNvbnRlbmlkb3tcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNzAwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiA2MDBweDtcclxuICAgIGJhY2tncm91bmQ6IG9yYW5nZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgICBwYWRkaW5nOiA0MHB4IDEwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufSAqL1xyXG5ib2R5e1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwic3JjL2Fzc2V0cy9pY29uLnBuZ1wiKTtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbn1cclxuaDJ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA0MHB4O1xyXG59XHJcbmgze1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMTMuNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTMuNXB4O1xyXG59XHJcbmVtYmVke1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxufVxyXG5cclxuLmNhbnZhcy1vdmVybGF5e1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgaGVpZ2h0OiAzMHJlbTtcclxuICAgIHdpZHRoOiAzMy41JTtcclxuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XHJcbiAgICBcclxufVxyXG5cclxuLmlucHV0LWltYWdlIHtcclxuICAgIGhlaWdodDogMzByZW07XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XHJcbn1cclxuXHJcbi53cmFwcGVyLXNlY3Rpb25zIHtcclxuZGlzcGxheTogZ3JpZDtcclxuaGVpZ2h0OiAxMDAlO1xyXG5ncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnIgMWZyO1xyXG59XHJcbiJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}